(this.webpackJsonprange=this.webpackJsonprange||[]).push([[0],{10:function(e,t,a){e.exports={Scope:"Scope_Scope__1NABJ",ScopeVision:"Scope_ScopeVision__t4t-v",sides:"Scope_sides__2IMZ2",reticleInput:"Scope_reticleInput__3YWiK",mobileAdj:"Scope_mobileAdj__Z-Ax5",singleInput:"Scope_singleInput__bXWI6"}},15:function(e,t,a){e.exports={Button:"Button_Button__1Hty9",ButtonLink:"Button_ButtonLink__2hJbH",smallLink:"Button_smallLink__4WhGJ"}},16:function(e,t,a){e.exports={TargetSwitcher:"TargetSwitcher_TargetSwitcher__addOT",round:"TargetSwitcher_round__3m59q",endDelay:"TargetSwitcher_endDelay__1eSf4",realRange:"TargetSwitcher_realRange__XuSWZ"}},17:function(e,t,a){e.exports={RangeSlider:"RangeSlider_RangeSlider__3Rcsj",ticks:"RangeSlider_ticks__1ZQ0i",tick:"RangeSlider_tick__1ocfD"}},18:function(e,t,a){e.exports={ScopeVision:"ScopeVision_ScopeVision__PNLm5",black:"ScopeVision_black__3W98C",view:"ScopeVision_view__1d7V0",reticle:"ScopeVision_reticle__21ZQG",field:"ScopeVision_field__2EX0u"}},19:function(e,t,a){e.exports={Table:"TestTable_Table__1fnSu",good:"TestTable_good__3lOB5",medium:"TestTable_medium__c8xqp",bad:"TestTable_bad__2wBLh"}},25:function(e,t,a){e.exports={label:"Input_label__eEMEv",InputElement:"Input_InputElement__2uzrF"}},26:function(e,t,a){e.exports={Menu:"Home_Menu__1zh-4",homeText:"Home_homeText__lN6el"}},27:function(e,t,a){e.exports={TableTop:"TestBlock_TableTop__3F4wL",score:"TestBlock_score__1W1Zk"}},45:function(e,t,a){e.exports={App:"App_App__2X1Bi"}},48:function(e,t,a){e.exports={ZoomSlider:"ZoomSlider_ZoomSlider__Mevgj"}},49:function(e,t,a){e.exports={loader:"Spinner_loader__3zltn",load3:"Spinner_load3__3OGxS"}},50:function(e,t,a){e.exports={levels:"RangeTest_levels__2zAhb"}},56:function(e,t,a){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),c=a.n(s),r=a(22),i=a.n(r),l=(a(56),a(2)),d=a(45),o=a.n(d),j=a(3),u=a(13),b=a(15),g=a.n(b),h=function(e){return Object(n.jsx)("div",{className:g.a.Button,children:Object(n.jsx)("button",{onClick:e.clicked,children:e.children})})},O=function(e){var t=null;return e.to?t=Object(n.jsx)(u.b,{className:g.a.ButtonLink,to:e.to,replace:!e.replace,children:e.children}):e.action&&(t=Object(n.jsx)("span",{className:g.a.ButtonLink,onClick:e.action,children:e.children})),Object(n.jsx)("div",{children:t})},x=function(e){return e.to?Object(n.jsx)(u.b,{className:g.a.smallLink,to:e.to,children:e.children}):Object(n.jsx)("span",{className:g.a.smallLink,onClick:e.click,children:e.children})},m=c.a.memo((function(e){var t=Object(s.useState)(e.time),a=Object(l.a)(t,2),c=a[0],r=a[1],i=Object(s.useState)(!1),d=Object(l.a)(i,2),o=d[0],j=d[1];return Object(s.useEffect)((function(){o?e.countdownEnd():c<=0&&j(!0);var t=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){return clearInterval(t)}}),[c,o,e]),Object(n.jsx)("div",{children:Object(n.jsxs)(h,{clicked:function(){return j(!0)},children:[e.text," (",c,")"]})})})),p=a(16),f=a.n(p),v=a(17),_=a.n(v),S=50,k=200,T=700,N=function(e){return Object(n.jsxs)("div",{className:_.a.RangeSlider,children:[Object(n.jsxs)("h2",{children:[e.rangeValue," m"]}),Object(n.jsx)("input",{type:"range",min:k,max:T,value:e.rangeValue,step:S,onChange:function(t){return function(t){e.onChange(t.target.value)}(t)}}),Object(n.jsxs)("div",{className:_.a.ticks,children:[Object(n.jsx)("span",{className:_.a.tick,children:"200"}),Object(n.jsx)("span",{className:_.a.tick,children:"450"}),Object(n.jsx)("span",{className:_.a.tick,children:"700"})]})]})},I=a(10),y=a.n(I),R=a(18),w=a.n(R),C=a(47),E=a.n(C),A=a.p+"static/media/field0d.afbd0f13.jpg",B=a.p+"static/media/field0n.29abc759.jpg",D=a.p+"static/media/field0t.aaebe2a1.jpg",F=a.p+"static/media/field1d.26b5e6ed.jpg",V=a.p+"static/media/field1n.cdfe868b.jpg",L=a.p+"static/media/field1t.5fa73b23.jpg",M=a.p+"static/media/field2d.f92eb3d0.jpg",H=a.p+"static/media/field2n.9be367e1.jpg",z=a.p+"static/media/field2t.46e9c462.jpg",P=a.p+"static/media/mil_dot.4946f412.png",Z=a.p+"static/media/tmr.f2de8f50.png",W=a.p+"static/media/tremor2.01b5314f.png",q=function(e){var t,a={field0d:A,field0n:B,field0t:D,field1d:F,field1n:V,field1t:L,field2d:M,field2n:H,field2t:z},s=100/15,c={height:"".concat(e.zoom*s,"%"),width:"".concat(e.zoom*s,"%")};switch(e.reticle){case"mildot":t=P;break;case"tmr":t=Z;break;case"tremor2":t=W;break;default:t=P}var r=450;e.range>450?r=T:e.range<=300&&(r=300);var i=100*r/e.range,l={width:"".concat(i,"%"),height:"".concat(i,"%")};return Object(n.jsxs)("div",{className:w.a.ScopeVision,children:[Object(n.jsxs)("div",{className:w.a.view,style:c,children:[Object(n.jsx)("div",{className:w.a.field,style:l,children:Object(n.jsx)(E.a,{children:Object(n.jsx)("div",{children:Object(n.jsx)("img",{src:a[e.field],alt:"feild"})})})}),Object(n.jsx)("div",{className:w.a.reticle,children:Object(n.jsx)("img",{src:t,alt:"reticle"})})]}),Object(n.jsx)("div",{className:w.a.black})]})},J=a(24),G=a(48),Q=a.n(G),U=function(e){var t=Object(J.useMediaQuery)({query:"(max-width: 750px)"}),a=Object(n.jsxs)("p",{children:["\xd7",e.zoom]});return t&&(a=Object(n.jsxs)("p",{style:{left:"".concat(3.53*e.zoom-42,"%")},children:["\xd7",e.zoom]})),Object(n.jsxs)("div",{className:Q.a.ZoomSlider,children:[a,Object(n.jsx)("input",{type:"range",min:15,max:35,value:e.zoom,onChange:function(t){return e.onZoomChangeHandler(t.target.value)}}),Object(n.jsx)("output",{className:"bubble"})]})},X=c.a.memo((function(e){var t=Object(s.useState)(25),a=Object(l.a)(t,2),c=a[0],r=a[1],i=function(t){e.onReticleChangesHandler(t.target.value)},d=Object(n.jsxs)("div",{className:y.a.reticleInput,children:[Object(n.jsxs)("div",{className:y.a.singleInput,children:[Object(n.jsx)("input",{type:"radio",id:"mildot",name:"reticle",value:"mildot",checked:"mildot"===e.reticle,onChange:i}),Object(n.jsx)("label",{htmlFor:"mildot",children:"Mil Dot"})]}),Object(n.jsxs)("div",{className:y.a.singleInput,children:[Object(n.jsx)("input",{type:"radio",id:"tmr",name:"reticle",value:"tmr",checked:"tmr"===e.reticle,onChange:i}),Object(n.jsx)("label",{htmlFor:"tmr",children:"TMR"})]}),Object(n.jsxs)("div",{className:y.a.singleInput,children:[Object(n.jsx)("input",{type:"radio",id:"tremor2",name:"reticle",value:"tremor2",checked:"tremor2"===e.reticle,onChange:i}),Object(n.jsx)("label",{htmlFor:"tremor2",children:"Tremor2"})]})]});return Object(n.jsxs)("div",{className:y.a.Scope,children:[Object(n.jsx)("div",{className:y.a.sides,children:d}),Object(n.jsx)("div",{className:y.a.ScopeVision,children:Object(n.jsx)("div",{className:y.a.mobileAdj,children:Object(n.jsx)(q,{zoom:c,range:e.range,field:e.field,reticle:e.reticle})})}),Object(n.jsx)("div",{className:y.a.sides,children:Object(n.jsx)(U,{zoom:c,onZoomChangeHandler:function(e){r(e)}})})]})})),Y=a(14),K=a.n(Y),$=K.a.create({baseURL:"https://range-a468d-default-rtdb.firebaseio.com/"}),ee=(a(33),function(e,t){if(0===e.length||0===t.length)return"None";for(var a=t.length,n=0,s=0;s<a;s++){n+=Math.abs(t[s]/S-e[s]/S)/a}return n=Math.round(100*(1-n/11))}),te=function(e,t,a){for(var n=[],s=0;s<e.length;s++)t[s].substring(t[s].length-1)===a&&n.push(e[s]);return n},ae=a(19),ne=a.n(ae),se=function(e){var t=function(e,t){for(var a=["Round"],s=e;s<t;s++)a.push(s+1);return a.map((function(e,t){return Object(n.jsx)("th",{children:e},t)}))},a=function(t,a){for(var s=["Range"],c=t;c<a;c++)s.push(e.ranges[c]);return s.map((function(e,t){return Object(n.jsx)("td",{children:e},t)}))},s=function(t,a){for(var s=["Vision"],c=t;c<a;c++){switch(e.vision[c].substring(e.vision[c].length-1)){case"d":s.push("Day");break;case"n":s.push("Night");break;case"t":s.push("Thermal");break;default:s.push("None")}}return s.map((function(e,t){return Object(n.jsx)("td",{children:e},t)}))},c=function(t,a){for(var s=["Guessed Range"],c=t;c<a;c++)s.push(e.guessedRanges[c]);return s.map((function(a,s){if(!(s>0))return Object(n.jsx)("td",{children:a},s);var c=Math.abs(e.ranges[t+s-1]-e.guessedRanges[t+s-1]);switch(!0){case 0===c:return Object(n.jsx)("td",{className:ne.a.good,children:a},s);case 50===c:return Object(n.jsx)("td",{className:ne.a.medium,children:a},s);case c>50:return Object(n.jsx)("td",{className:ne.a.bad,children:a},s);default:return Object(n.jsx)("td",{children:a},s)}}))};return Object(J.useMediaQuery)({query:"(max-width: 750px)"})?Object(n.jsxs)("table",{id:"Test",className:ne.a.Table,children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:t(0,5)})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:a(0,5)},"ranges"),Object(n.jsx)("tr",{children:s(0,5)},"visions"),Object(n.jsx)("tr",{children:c(0,5)},"guessed"),Object(n.jsx)("tr",{children:t(5,e.ranges.length)}),Object(n.jsx)("tr",{children:a(5,e.ranges.length)},"ranges2"),Object(n.jsx)("tr",{children:s(5,e.ranges.length)},"visions2"),Object(n.jsx)("tr",{children:c(5,e.ranges.length)},"guessed2")]})]}):Object(n.jsxs)("table",{id:"Test",className:ne.a.Table,children:[Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:t(0,e.ranges.length)})}),Object(n.jsxs)("tbody",{children:[Object(n.jsx)("tr",{children:a(0,e.ranges.length)},"ranges"),Object(n.jsx)("tr",{children:s(0,e.ranges.length)},"visions"),Object(n.jsx)("tr",{children:c(0,e.ranges.length)},"guessed")]})]})},ce=function(e){var t=ee(e.ranges,e.guessedRanges),a=ee(te(e.ranges,e.fields,"d"),te(e.guessedRanges,e.fields,"d")),s=ee(te(e.ranges,e.fields,"n"),te(e.guessedRanges,e.fields,"n")),c=ee(te(e.ranges,e.fields,"t"),te(e.guessedRanges,e.fields,"t"));return Object(n.jsxs)("div",{children:[Object(n.jsx)("h2",{children:"Your Score Is:"}),Object(n.jsxs)("h2",{children:[t,"/100"]}),Object(n.jsxs)("div",{children:[Object(n.jsxs)("p",{children:["Day Score: ",a,"%"]}),Object(n.jsxs)("p",{children:["Night Score: ",s,"%"]}),Object(n.jsxs)("p",{children:["Thermal Score: ",c,"%"]})]}),Object(n.jsx)(se,{ranges:e.ranges,vision:e.fields,guessedRanges:e.guessedRanges})]})},re=c.a.createContext({state:null,setState:null}),ie=a(49),le=a.n(ie),de=function(){return Object(n.jsx)("div",{className:le.a.loader})},oe=function(e){var t=Object(s.useContext)(re),a=Object(s.useState)(!0),r=Object(l.a)(a,2),i=r[0],d=r[1],o=Object(s.useState)(null),j=Object(l.a)(o,2),u=j[0],b=j[1],g=Object(n.jsx)(de,{});return Object(s.useEffect)((function(){if(t.state.token){var a=new Date,s=a.toDateString().substring(4)+" "+a.toTimeString().substring(0,8),c={email:t.state.email,date:s,ranges:e.ranges,guessedRanges:e.guessedRanges,fields:e.fields};$.post("/tests.json?auth="+t.state.token,c).then((function(){d(!1)})).catch((function(){b(Object(n.jsx)("p",{style:{color:"red"},children:"Error, test not saved."})),d(!1)}))}else d(!1)}),[t.state.token,t.state.email,e.fields,e.guessedRanges,e.ranges]),i||(g=Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(ce,{ranges:e.ranges,guessedRanges:e.guessedRanges,fields:e.fields}),u,Object(n.jsx)("br",{}),Object(n.jsx)(O,{action:e.resetTest,children:"Again"}),Object(n.jsx)("br",{}),Object(n.jsx)(O,{to:"/",children:"Home"})]})),g},je=function(e){var t=Object(s.useRef)([]),a=Object(s.useState)(0),r=Object(l.a)(a,2),i=r[0],d=r[1],o=Object(s.useState)(450),j=Object(l.a)(o,2),u=j[0],b=j[1],g=Object(s.useState)(!1),h=Object(l.a)(g,2),O=h[0],x=h[1],p=Object(s.useState)("mildot"),v=Object(l.a)(p,2),_=v[0],S=v[1],k=Object(s.useCallback)((function(){x(!0)}),[]),T=O?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:f.a.round,children:["Round ",i+1,"/",e.ranges.length]}),Object(n.jsxs)("h2",{className:f.a.realRange,children:[e.ranges[i]," m"]}),Object(n.jsx)("div",{className:f.a.endDelay,children:Object(n.jsx)(m,{time:1,countdownEnd:function(){t.current.push(u),d((function(e){return e+1})),x(!1),b(450)},text:""})})]}):Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("div",{className:f.a.round,children:["Round ",i+1,"/",e.ranges.length]}),Object(n.jsx)(X,{range:e.ranges[i],field:e.fields[i],reticle:_,onReticleChangesHandler:function(e){S(e)}}),Object(n.jsx)(N,{rangeValue:u,onChange:function(e){return b(e)}}),Object(n.jsx)(m,{time:e.countdownTime,countdownEnd:k,text:"continue"})]});return i===e.ranges.length&&(T=Object(n.jsx)(oe,{ranges:e.ranges,guessedRanges:t.current,fields:e.fields,resetTest:e.resetTest})),Object(n.jsx)("div",{className:f.a.TargetSwitcher,children:T})},ue=a(50),be=a.n(ue),ge=function(e){var t,a=Object(s.useContext)(re);t=a.state.token?"Experienced":"Beginner";var c=Object(s.useState)(!1),r=Object(l.a)(c,2),i=r[0],d=r[1],o=Object(s.useState)(!0),j=Object(l.a)(o,2),u=j[0],b=j[1],g=Object(s.useState)(t),x=Object(l.a)(g,2),p=x[0],f=x[1],v=Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Ready?"}),a.state.token?null:Object(n.jsxs)("div",{className:be.a.levels,children:[Object(n.jsx)("input",{type:"radio",id:"Beginner",name:"level",value:"Beginner",checked:"Beginner"===p,onChange:function(e){return f(e.target.value)}}),Object(n.jsxs)("label",{htmlFor:"Beginner",children:["Beginner (",60," sec)"]}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"radio",id:"Intermediate",name:"level",value:"Intermediate",checked:"Intermediate"===p,onChange:function(e){return f(e.target.value)}}),Object(n.jsxs)("label",{htmlFor:"Intermediate",children:["Intermediate (",25," sec)"]}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{type:"radio",id:"Experienced",name:"level",value:"Experienced",checked:"Experienced"===p,onChange:function(e){return f(e.target.value)}}),Object(n.jsxs)("label",{htmlFor:"Experienced",children:["Experienced (",12," sec)"]})]}),Object(n.jsx)(h,{clicked:function(){return d(!0)},children:"START"}),Object(n.jsx)("br",{}),Object(n.jsx)(O,{to:"/",children:"Back"})]});if(i&&(v=Object(n.jsxs)("div",{children:[Object(n.jsx)("br",{}),Object(n.jsx)(m,{time:3,countdownEnd:function(){return b(!1)},text:"skip"})]})),!u){var _,T=function(){for(var e=[],t=0;t<10;t++)e.push(Math.floor(11*Math.random())*S+k);return e}(),N=function(e){for(var t,a=[],n=["d","n","t"],s=0;s<10;s++)t=n[Math.floor(Math.random()*n.length)],e[s]>450?a.push("field2".concat(t)):e[s]<=300?a.push("field0".concat(t)):a.push("field1".concat(t));return a}(T);switch(p){case"Beginner":_=60;break;case"Intermediate":_=25;break;case"Experienced":_=12;break;default:_=60}v=Object(n.jsx)("div",{children:Object(n.jsx)(je,{ranges:T,fields:N,countdownTime:_,resetTest:function(){d(!1),b(!0),f(t),console.log("[RangeTest.js] resetTest")}})})}return v},he=a(25),Oe=a.n(he),xe=function(e){var t=[Oe.a.InputElement];return Object(n.jsxs)("div",{className:Oe.a.Input,children:[Object(n.jsx)("label",{className:Oe.a.label,children:e.label}),Object(n.jsx)("input",{className:t.join(" "),value:e.value,onChange:e.inputOnChangeHandler,type:e.type})]})},me=function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(xe,{label:"Email:",value:e.email.value,type:"email",inputOnChangeHandler:function(t){return e.email.set(t.target.value)}}),Object(n.jsx)(xe,{label:"Password:",value:e.password.value,type:"password",inputOnChangeHandler:function(t){return e.password.set(t.target.value)}}),Object(n.jsx)(h,{clicked:e.clickHandler,children:e.button})]})},pe=function(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),r=a[0],i=a[1],d=Object(s.useState)(""),o=Object(l.a)(d,2),j=o[0],u=o[1],b=Object(s.useState)(!1),g=Object(l.a)(b,2),h=g[0],O=g[1],m=Object(s.useState)(!1),p=Object(l.a)(m,2),f=p[0],v=p[1],_=Object(s.useState)(!1),S=Object(l.a)(_,2),k=S[0],T=S[1],N=Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("p",{children:"Please enter your info"}),Object(n.jsx)(me,{button:"Sign up",clickHandler:function(){var e={email:r,password:j,returnSecureToken:!0};v(!0),K.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyChucJCCyDp-gPlxRVay3ScQAcVW8qxuak",e).then((function(e){v(!1),O(!0)})).catch((function(e){v(!1),T(!0)}))},email:{value:r,set:i},password:{value:j,set:u}})]});return f&&(N=Object(n.jsx)(de,{})),h&&(N=Object(n.jsx)("p",{children:"Sign up Completed"})),k&&(N=Object(n.jsx)("p",{style:{color:"red"},children:"An error has occurred. Please try again later."})),Object(n.jsxs)("div",{children:[N,Object(n.jsx)(x,{to:"/",children:"Back to home page"})]})},fe=a(26),ve=a.n(fe),_e=function(){var e=Object(s.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(""),d=Object(l.a)(i,2),o=d[0],j=d[1],u=Object(s.useState)(!1),b=Object(l.a)(u,2),g=b[0],h=b[1],O=Object(s.useState)(!1),x=Object(l.a)(O,2),m=x[0],p=x[1],f=Object(s.useState)(!1),v=Object(l.a)(f,2),_=v[0],S=v[1],k=Object(s.useState)("An error has occurred. Please try again later."),T=Object(l.a)(k,2),N=T[0],I=T[1],y=Object(s.useContext)(re);null===y.state.token&&g&&h(!1),y.state.token&&!g&&h(!0);var R=function(){var e={email:a,password:o,returnSecureToken:!0};p(!0),K.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyChucJCCyDp-gPlxRVay3ScQAcVW8qxuak",e).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),localStorage.setItem("email",e.data.email),y.setState({token:e.data.idToken,userId:e.data.localId,email:e.data.email}),p(!1),S(!1),h(!0)})).catch((function(e){var t=e.response.data.error.message;"INVALID_EMAIL"===t?I("Invalid email."):"INVALID_PASSWORD"!==t&&"EMAIL_NOT_FOUND"!==t||I("Incorrect email or password."),p(!1),S(!0)}))},w=Object(n.jsx)(c.a.Fragment,{children:Object(n.jsx)(me,{button:"Log in",clickHandler:R,email:{value:a,set:r},password:{value:o,set:j}})});return m&&(w=Object(n.jsx)(de,{})),g&&(w=Object(n.jsxs)("p",{children:["Hello ",y.state.email]})),_&&(w=Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(me,{button:"Log in",clickHandler:R,email:{value:a,set:r},password:{value:o,set:j}}),Object(n.jsx)("p",{style:{color:"red"},children:N})]})),Object(n.jsx)("div",{children:w})},Se=function(e){var t=Object(s.useContext)(re);return Object(n.jsxs)("main",{children:[Object(n.jsxs)("header",{children:[Object(n.jsx)("h1",{children:"SNIPER RANGE TEST"}),Object(n.jsx)("p",{className:ve.a.homeText,children:"Estimate the range of a targets with your reticle only."}),Object(n.jsxs)("p",{className:ve.a.homeText,children:["Use as guest, sign up or use the demo user:",Object(n.jsx)("br",{}),"Email: asd@asd.com",Object(n.jsx)("br",{}),"Password: asdasdasd"]})]}),Object(n.jsx)(_e,{}),t.state.token?Object(n.jsx)(x,{click:e.logout,children:"logout"}):Object(n.jsx)(x,{to:"/signup",children:"Sign up"}),Object(n.jsx)("br",{}),Object(n.jsx)("div",{className:ve.a.Menu,children:t.state.token?Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)(O,{to:"/rangetest",children:"Start Test"}),Object(n.jsx)("br",{}),Object(n.jsx)(O,{to:"/stats",children:"Statistics"})]}):Object(n.jsx)(O,{to:"/rangetest",children:"Guest Demo"})})]})},ke=a(8),Te=a(27),Ne=a.n(Te),Ie=function(e){var t=Object(s.useState)(!1),a=Object(l.a)(t,2),r=a[0],i=a[1],d=ee(e.ranges,e.guessedRanges);c.a.Fragment,e.date,Ne.a.score;return Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsx)("div",{children:Object(n.jsx)("table",{id:e.date,className:Ne.a.TableTop,onClick:function(){i((function(e){return!e}))},children:Object(n.jsx)("thead",{children:Object(n.jsx)("tr",{children:Object(n.jsxs)("td",{children:[e.date,Object(n.jsxs)("span",{className:Ne.a.score,children:[d,"/100"]})]})})})})}),r?Object(n.jsx)(se,{ranges:e.ranges,vision:e.fields,guessedRanges:e.guessedRanges}):null]})},ye=function(){var e=Object(s.useState)(!0),t=Object(l.a)(e,2),a=t[0],r=t[1],i=Object(s.useState)(!1),d=Object(l.a)(i,2),o=d[0],u=d[1],b=Object(s.useState)(null),g=Object(l.a)(b,2),h=g[0],x=g[1],m=Object(s.useState)(null),p=Object(l.a)(m,2),f=p[0],v=p[1],_=Object(s.useState)(null),S=Object(l.a)(_,2),k=S[0],T=S[1],N=Object(s.useContext)(re),I=Object(n.jsx)(j.a,{to:"/"});if(Object(s.useEffect)((function(){if(N.state.token){var e="?auth="+N.state.token+'&orderBy="email"&equalTo="'+N.state.email+'"';$.get("/tests.json"+e).then((function(e){var t=[],a={ranges:[],guesses:[]},n={ranges:[],guesses:[]},s={ranges:[],guesses:[]},c=0;for(var i in e.data)t.push({date:e.data[i].date,ranges:e.data[i].ranges,fields:e.data[i].fields,guessedRanges:e.data[i].guessedRanges}),c+=ee(e.data[i].ranges,e.data[i].guessedRanges),a.ranges=[].concat(Object(ke.a)(a.ranges),Object(ke.a)(te(e.data[i].ranges,e.data[i].fields,"d"))),n.ranges=[].concat(Object(ke.a)(n.ranges),Object(ke.a)(te(e.data[i].ranges,e.data[i].fields,"n"))),s.ranges=[].concat(Object(ke.a)(a.ranges),Object(ke.a)(te(e.data[i].ranges,e.data[i].fields,"t"))),a.guesses=[].concat(Object(ke.a)(a.guesses),Object(ke.a)(te(e.data[i].guessedRanges,e.data[i].fields,"d"))),n.guesses=[].concat(Object(ke.a)(n.guesses),Object(ke.a)(te(e.data[i].guessedRanges,e.data[i].fields,"n"))),s.guesses=[].concat(Object(ke.a)(a.guesses),Object(ke.a)(te(e.data[i].guessedRanges,e.data[i].fields,"t")));t.reverse(),T({day:ee(a.ranges,a.guesses),night:ee(n.ranges,n.guesses),thermal:ee(s.ranges,s.guesses)}),v(c/t.length),x(t),r(!1)})).catch((function(e){u(!0),r(!1)}))}}),[N.state]),N.state.token)if(a)I=Object(n.jsx)(de,{});else if(o)I=Object(n.jsx)("p",{children:"An error has occured"});else{var y=h.map((function(e){return Object(n.jsx)(Ie,{date:e.date,ranges:e.ranges,fields:e.fields,guessedRanges:e.guessedRanges},e.date)}));I=Object(n.jsxs)(c.a.Fragment,{children:[Object(n.jsxs)("h2",{children:["Average Score: ",f,"/100"]}),Object(n.jsx)("br",{}),"Day Accuracy: ",k.day,"%",Object(n.jsx)("br",{}),"Night Accuracy: ",k.night,"%",Object(n.jsx)("br",{}),"Thermal Accuracy: ",k.thermal,"%",Object(n.jsx)("br",{}),Object(n.jsx)("br",{}),y,Object(n.jsx)("br",{}),Object(n.jsx)(O,{to:"/",children:"Back"})]})}return I},Re=function(){var e=Object(s.useState)({token:localStorage.getItem("token"),userId:localStorage.getItem("userId"),email:localStorage.getItem("email")}),t=Object(l.a)(e,2),a=t[0],c=t[1],r=function(){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),localStorage.removeItem("email"),c({token:null,userId:null,email:null})},i=new Date(localStorage.getItem("expirationDate"));a.token&&i<=new Date&&r();var d=Object(n.jsx)(Se,{logout:r}),b=Object(n.jsxs)(j.d,{children:[Object(n.jsx)(j.b,{path:"/rangetest",exact:!0,component:ge}),Object(n.jsx)(j.b,{path:"/signup",exact:!0,component:pe}),Object(n.jsx)(j.b,{path:"/stats",exact:!0,component:ye}),Object(n.jsx)(j.b,{path:"/",exact:!0,render:function(){return d}}),Object(n.jsx)(j.a,{to:"/"})]});return Object(n.jsx)(u.a,{children:Object(n.jsx)(re.Provider,{value:{state:a,setState:c},children:Object(n.jsx)("div",{className:o.a.App,children:b})})})},we=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,84)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),n(e),s(e),c(e),r(e)}))};i.a.render(Object(n.jsx)(Re,{}),document.getElementById("root")),we()}},[[83,1,2]]]);
//# sourceMappingURL=main.cffeb67f.chunk.js.map