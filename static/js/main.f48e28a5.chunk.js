(this.webpackJsonprange=this.webpackJsonprange||[]).push([[0],{13:function(e,t,n){e.exports={Button:"Button_Button__1Hty9",ButtonLink:"Button_ButtonLink__2hJbH",smallLink:"Button_smallLink__4WhGJ"}},14:function(e,t,n){e.exports={TargetSwitcher:"TargetSwitcher_TargetSwitcher__addOT",round:"TargetSwitcher_round__3m59q",endDelay:"TargetSwitcher_endDelay__1eSf4",realRange:"TargetSwitcher_realRange__XuSWZ"}},15:function(e,t,n){e.exports={RangeSlider:"RangeSlider_RangeSlider__3Rcsj",ticks:"RangeSlider_ticks__1ZQ0i",tick:"RangeSlider_tick__1ocfD"}},16:function(e,t,n){e.exports={ScopeVision:"ScopeVision_ScopeVision__PNLm5",black:"ScopeVision_black__3W98C",view:"ScopeVision_view__1d7V0",reticle:"ScopeVision_reticle__21ZQG",field:"ScopeVision_field__2EX0u"}},20:function(e,t,n){e.exports={label:"Input_label__eEMEv",InputElement:"Input_InputElement__2uzrF"}},26:function(e,t,n){e.exports={Menu:"Home_Menu__1zh-4",homeText:"Home_homeText__lN6el"}},39:function(e,t,n){e.exports={App:"App_App__2X1Bi"}},43:function(e,t,n){e.exports={ZoomSlider:"ZoomSlider_ZoomSlider__Mevgj"}},44:function(e,t,n){e.exports={Table:"TestTable_Table__1fnSu"}},45:function(e,t,n){e.exports={loader:"Spinner_loader__3zltn",load3:"Spinner_load3__3OGxS"}},46:function(e,t,n){e.exports={levels:"RangeTest_levels__2zAhb"}},52:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),s=n.n(c),r=n(19),i=n.n(r),l=(n(52),n(2)),o=n(39),d=n.n(o),j=n(3),u=n(17),b=n(13),h=n.n(b),g=function(e){return Object(a.jsx)("div",{className:h.a.Button,children:Object(a.jsx)("button",{onClick:e.clicked,children:e.children})})},O=function(e){var t=null;return e.to?t=Object(a.jsx)(u.b,{className:h.a.ButtonLink,to:e.to,replace:!e.replace,children:e.children}):e.action&&(t=Object(a.jsx)("span",{className:h.a.ButtonLink,onClick:e.action,children:e.children})),Object(a.jsx)("div",{children:t})},m=function(e){return e.to?Object(a.jsx)(u.b,{className:h.a.smallLink,to:e.to,children:e.children}):Object(a.jsx)("span",{className:h.a.smallLink,onClick:e.click,children:e.children})},x=s.a.memo((function(e){var t=Object(c.useState)(e.time),n=Object(l.a)(t,2),s=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(l.a)(i,2),d=o[0],j=o[1];return Object(c.useEffect)((function(){d?e.countdownEnd():s<=0&&j(!0);var t=setInterval((function(){r((function(e){return e-1}))}),1e3);return function(){return clearInterval(t)}}),[s,d,e]),Object(a.jsx)("div",{children:Object(a.jsxs)(g,{clicked:function(){return j(!0)},children:[e.text," (",s,")"]})})})),p=n(14),f=n.n(p),v=n(15),S=n.n(v),_=50,k=200,I=700,N=function(e){return Object(a.jsxs)("div",{className:S.a.RangeSlider,children:[Object(a.jsxs)("h2",{children:[e.rangeValue," m"]}),Object(a.jsx)("input",{type:"range",min:k,max:I,value:e.rangeValue,step:_,onChange:function(t){return function(t){e.onChange(t.target.value)}(t)}}),Object(a.jsxs)("div",{className:S.a.ticks,children:[Object(a.jsx)("span",{className:S.a.tick,children:"200"}),Object(a.jsx)("span",{className:S.a.tick,children:"450"}),Object(a.jsx)("span",{className:S.a.tick,children:"700"})]})]})},y=n(9),R=n.n(y),w=n(16),T=n.n(w),C=n(41),E=n.n(C),A=n.p+"static/media/field0d.afbd0f13.jpg",B=n.p+"static/media/field0n.29abc759.jpg",D=n.p+"static/media/field0t.aaebe2a1.jpg",V=n.p+"static/media/field1d.26b5e6ed.jpg",F=n.p+"static/media/field1n.cdfe868b.jpg",L=n.p+"static/media/field1t.5fa73b23.jpg",H=n.p+"static/media/field2d.f92eb3d0.jpg",M=n.p+"static/media/field2n.9be367e1.jpg",z=n.p+"static/media/field2t.46e9c462.jpg",P=n.p+"static/media/mil_dot.4946f412.png",Z=n.p+"static/media/tmr.f2de8f50.png",W=n.p+"static/media/tremor2.01b5314f.png",J=function(e){var t,n={field0d:A,field0n:B,field0t:D,field1d:V,field1n:F,field1t:L,field2d:H,field2n:M,field2t:z},c=100/15,s={height:"".concat(e.zoom*c,"%"),width:"".concat(e.zoom*c,"%")};switch(e.reticle){case"mildot":t=P;break;case"tmr":t=Z;break;case"tremor2":t=W;break;default:t=P}var r=450;e.range>450?r=I:e.range<=300&&(r=300);var i=100*r/e.range,l={width:"".concat(i,"%"),height:"".concat(i,"%")};return Object(a.jsxs)("div",{className:T.a.ScopeVision,children:[Object(a.jsxs)("div",{className:T.a.view,style:s,children:[Object(a.jsx)("div",{className:T.a.field,style:l,children:Object(a.jsx)(E.a,{children:Object(a.jsx)("div",{children:Object(a.jsx)("img",{src:n[e.field],alt:"feild"})})})}),Object(a.jsx)("div",{className:T.a.reticle,children:Object(a.jsx)("img",{src:t,alt:"reticle"})})]}),Object(a.jsx)("div",{className:T.a.black})]})},G=n(42),Q=n(43),q=n.n(Q),X=function(e){var t=Object(G.useMediaQuery)({query:"(max-width: 750px)"}),n=Object(a.jsxs)("p",{children:["\xd7",e.zoom]});return t&&(n=Object(a.jsxs)("p",{style:{left:"".concat(3.53*e.zoom-42,"%")},children:["\xd7",e.zoom]})),Object(a.jsxs)("div",{className:q.a.ZoomSlider,children:[n,Object(a.jsx)("input",{type:"range",min:15,max:35,value:e.zoom,onChange:function(t){return e.onZoomChangeHandler(t.target.value)}}),Object(a.jsx)("output",{className:"bubble"})]})},U=s.a.memo((function(e){var t=Object(c.useState)(25),n=Object(l.a)(t,2),s=n[0],r=n[1],i=function(t){e.onReticleChangesHandler(t.target.value)},o=Object(a.jsxs)("div",{className:R.a.reticleInput,children:[Object(a.jsxs)("div",{className:R.a.singleInput,children:[Object(a.jsx)("input",{type:"radio",id:"mildot",name:"reticle",value:"mildot",checked:"mildot"===e.reticle,onChange:i}),Object(a.jsx)("label",{htmlFor:"mildot",children:"mildot"})]}),Object(a.jsxs)("div",{className:R.a.singleInput,children:[Object(a.jsx)("input",{type:"radio",id:"tmr",name:"reticle",value:"tmr",checked:"tmr"===e.reticle,onChange:i}),Object(a.jsx)("label",{htmlFor:"tmr",children:"tmr"})]}),Object(a.jsxs)("div",{className:R.a.singleInput,children:[Object(a.jsx)("input",{type:"radio",id:"tremor2",name:"reticle",value:"tremor2",checked:"tremor2"===e.reticle,onChange:i}),Object(a.jsx)("label",{htmlFor:"tremor2",children:"tremor2"})]})]});return Object(a.jsxs)("div",{className:R.a.Scope,children:[Object(a.jsx)("div",{className:R.a.sides,children:o}),Object(a.jsx)("div",{className:R.a.ScopeVision,children:Object(a.jsx)("div",{className:R.a.mobileAdj,children:Object(a.jsx)(J,{zoom:s,range:e.range,field:e.field,reticle:e.reticle})})}),Object(a.jsx)("div",{className:R.a.sides,children:Object(a.jsx)(X,{zoom:s,onZoomChangeHandler:function(e){r(e)}})})]})})),Y=n(12),K=n.n(Y),$=K.a.create({baseURL:"https://range-a468d-default-rtdb.firebaseio.com/"}),ee=(n(27),function(e,t){if(0===e.length||0===t.length)return"None";for(var n=t.length,a=0,c=0;c<n;c++){a+=Math.abs(t[c]/_-e[c]/_)/n}return a=Math.round(100*(1-a/11))}),te=function(e,t,n){for(var a=[],c=0;c<e.length;c++)t[c].substring(t[c].length-1)===n&&a.push(e[c]);return a},ne=n(44),ae=n.n(ne),ce=function(e){return Object(a.jsxs)("table",{id:"Test",className:ae.a.Table,children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:function(){for(var t=["Rounds"],n=0;n<e.ranges.length;n++)t.push(n+1);return t.map((function(e,t){return Object(a.jsx)("th",{children:e},t)}))}()})}),Object(a.jsxs)("tbody",{children:[Object(a.jsx)("tr",{children:function(){for(var t=["Ranges"],n=0;n<e.ranges.length;n++)t.push(e.ranges[n]);return t.map((function(e,t){return Object(a.jsx)("td",{children:e},t)}))}()},"ranges"),Object(a.jsx)("tr",{children:function(){for(var t=["Vision"],n=0;n<e.vision.length;n++){switch(e.vision[n].substring(e.vision[n].length-1)){case"d":t.push("Day");break;case"n":t.push("Night");break;case"t":t.push("Thermal");break;default:t.push("None")}}return t.map((function(e,t){return Object(a.jsx)("td",{children:e},t)}))}()},"visions"),Object(a.jsx)("tr",{children:function(){for(var t=["Guessed Ranges"],n=0;n<e.guessedRanges.length;n++)t.push(e.guessedRanges[n]);return t.map((function(e,t){return Object(a.jsx)("td",{children:e},t)}))}()},"guessed")]})]})},se=function(e){var t=ee(e.ranges,e.guessedRanges),n=ee(te(e.ranges,e.fields,"d"),te(e.guessedRanges,e.fields,"d")),c=ee(te(e.ranges,e.fields,"n"),te(e.guessedRanges,e.fields,"n")),s=ee(te(e.ranges,e.fields,"t"),te(e.guessedRanges,e.fields,"t"));return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Your Score Is:"}),Object(a.jsxs)("h2",{children:[t,"/100"]}),Object(a.jsxs)("div",{children:[Object(a.jsxs)("p",{children:["Day Score: ",n,"%"]}),Object(a.jsxs)("p",{children:["Night Score: ",c,"%"]}),Object(a.jsxs)("p",{children:["Thermal Score: ",s,"%"]})]}),Object(a.jsx)(ce,{ranges:e.ranges,vision:e.fields,guessedRanges:e.guessedRanges})]})},re=s.a.createContext({state:null,setState:null}),ie=n(45),le=n.n(ie),oe=function(){return Object(a.jsx)("div",{className:le.a.loader})},de=function(e){var t=Object(c.useContext)(re),n=Object(c.useState)(!0),r=Object(l.a)(n,2),i=r[0],o=r[1],d=Object(c.useState)(null),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(a.jsx)(oe,{});return Object(c.useEffect)((function(){if(t.state.token){var n={email:t.state.email,date:new Date,ranges:e.ranges,guessedRanges:e.guessedRanges,fields:e.fields};$.post("/tests.json",n).then((function(){o(!1)})).catch((function(){b(Object(a.jsx)("p",{style:{color:"red"},children:"Error, test not saved."})),o(!1)}))}else o(!1)}),[t.state.token,t.state.email,e.fields,e.guessedRanges,e.ranges]),i||(h=Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(se,{ranges:e.ranges,guessedRanges:e.guessedRanges,fields:e.fields}),u,Object(a.jsx)("br",{}),Object(a.jsx)(O,{action:e.resetTest,children:"Again"}),Object(a.jsx)("br",{}),Object(a.jsx)(O,{to:"/",children:"Home"})]})),h},je=function(e){var t=Object(c.useRef)([]),n=Object(c.useState)(0),r=Object(l.a)(n,2),i=r[0],o=r[1],d=Object(c.useState)(450),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(!1),g=Object(l.a)(h,2),O=g[0],m=g[1],p=Object(c.useState)("mildot"),v=Object(l.a)(p,2),S=v[0],_=v[1],k=Object(c.useCallback)((function(){m(!0)}),[]),I=O?Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)("div",{className:f.a.round,children:["Round ",i+1,"/",e.ranges.length]}),Object(a.jsxs)("h2",{className:f.a.realRange,children:[e.ranges[i]," m"]}),Object(a.jsx)("div",{className:f.a.endDelay,children:Object(a.jsx)(x,{time:1,countdownEnd:function(){t.current.push(u),o((function(e){return e+1})),m(!1),b(450)},text:""})})]}):Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsxs)("div",{className:f.a.round,children:["Round ",i+1,"/",e.ranges.length]}),Object(a.jsx)(U,{range:e.ranges[i],field:e.fields[i],reticle:S,onReticleChangesHandler:function(e){_(e)}}),Object(a.jsx)(x,{time:e.countdownTime,countdownEnd:k,text:"continue"}),Object(a.jsx)(N,{rangeValue:u,onChange:function(e){return b(e)}})]});return i===e.ranges.length&&(I=Object(a.jsx)(de,{ranges:e.ranges,guessedRanges:t.current,fields:e.fields,resetTest:e.resetTest})),Object(a.jsx)("div",{className:f.a.TargetSwitcher,children:I})},ue=n(46),be=n.n(ue),he=function(e){var t,n=Object(c.useContext)(re);t=n.state.token?"Experienced":"Beginner";var s=Object(c.useState)(!1),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(c.useState)(!0),j=Object(l.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(t),O=Object(l.a)(h,2),m=O[0],p=O[1],f=Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Ready?"}),n.state.token?null:Object(a.jsxs)("div",{className:be.a.levels,children:[Object(a.jsx)("input",{type:"radio",id:"Beginner",name:"level",value:"Beginner",checked:"Beginner"===m,onChange:function(e){return p(e.target.value)}}),Object(a.jsxs)("label",{htmlFor:"Beginner",children:["Beginner (",60," sec)"]}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"radio",id:"Intermediate",name:"level",value:"Intermediate",checked:"Intermediate"===m,onChange:function(e){return p(e.target.value)}}),Object(a.jsxs)("label",{htmlFor:"Intermediate",children:["Intermediate (",25," sec)"]}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{type:"radio",id:"Experienced",name:"level",value:"Experienced",checked:"Experienced"===m,onChange:function(e){return p(e.target.value)}}),Object(a.jsxs)("label",{htmlFor:"Experienced",children:["Experienced (",12," sec)"]})]}),Object(a.jsx)(g,{clicked:function(){return o(!0)},children:"START"})]});if(i&&(f=Object(a.jsxs)("div",{children:[Object(a.jsx)("br",{}),Object(a.jsx)(x,{time:3,countdownEnd:function(){return b(!1)},text:"skip"})]})),!u){var v,S=function(){for(var e=[],t=0;t<10;t++)e.push(Math.floor(11*Math.random())*_+k);return e}(),I=function(e){for(var t,n=[],a=["d","n","t"],c=0;c<10;c++)t=a[Math.floor(Math.random()*a.length)],e[c]>450?n.push("field2".concat(t)):e[c]<=300?n.push("field0".concat(t)):n.push("field1".concat(t));return n}(S);switch(m){case"Beginner":v=60;break;case"Intermediate":v=25;break;case"Experienced":v=12;break;default:v=60}f=Object(a.jsx)("div",{children:Object(a.jsx)(je,{ranges:S,fields:I,countdownTime:v,resetTest:function(){o(!1),b(!0),p(t),console.log("[RangeTest.js] resetTest")}})})}return f},ge=n(20),Oe=n.n(ge),me=function(e){var t=[Oe.a.InputElement];return Object(a.jsxs)("div",{className:Oe.a.Input,children:[Object(a.jsx)("label",{className:Oe.a.label,children:e.label}),Object(a.jsx)("input",{className:t.join(" "),value:e.value,onChange:e.inputOnChangeHandler,type:e.type})]})},xe=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)(me,{label:"Email:",value:e.email.value,type:"email",inputOnChangeHandler:function(t){return e.email.set(t.target.value)}}),Object(a.jsx)(me,{label:"Password:",value:e.password.value,type:"password",inputOnChangeHandler:function(t){return e.password.set(t.target.value)}}),Object(a.jsx)(g,{clicked:e.clickHandler,children:e.button})]})},pe=function(e){var t=Object(c.useState)(""),n=Object(l.a)(t,2),r=n[0],i=n[1],o=Object(c.useState)(""),d=Object(l.a)(o,2),j=d[0],u=d[1],b=Object(c.useState)(!1),h=Object(l.a)(b,2),g=h[0],O=h[1],x=Object(c.useState)(!1),p=Object(l.a)(x,2),f=p[0],v=p[1],S=Object(c.useState)(!1),_=Object(l.a)(S,2),k=_[0],I=_[1],N=Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)("p",{children:"Please enter your info"}),Object(a.jsx)(xe,{button:"Sign up",clickHandler:function(){var e={email:r,password:j,returnSecureToken:!0};v(!0),K.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyChucJCCyDp-gPlxRVay3ScQAcVW8qxuak",e).then((function(e){v(!1),O(!0)})).catch((function(e){v(!1),I(!0)}))},email:{value:r,set:i},password:{value:j,set:u}})]});return f&&(N=Object(a.jsx)(oe,{})),g&&(N=Object(a.jsx)("p",{children:"Sign up Completed"})),k&&(N=Object(a.jsx)("p",{style:{color:"red"},children:"An error has occurred. Please try again later."})),Object(a.jsxs)("div",{children:[N,Object(a.jsx)(m,{to:"/",children:"Back to home page"})]})},fe=n(26),ve=n.n(fe),Se=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)(""),o=Object(l.a)(i,2),d=o[0],j=o[1],u=Object(c.useState)(!1),b=Object(l.a)(u,2),h=b[0],g=b[1],O=Object(c.useState)(!1),m=Object(l.a)(O,2),x=m[0],p=m[1],f=Object(c.useState)(!1),v=Object(l.a)(f,2),S=v[0],_=v[1],k=Object(c.useState)("An error has occurred. Please try again later."),I=Object(l.a)(k,2),N=I[0],y=I[1],R=Object(c.useContext)(re);null===R.state.token&&h&&g(!1),R.state.token&&!h&&g(!0);var w=function(){var e={email:n,password:d,returnSecureToken:!0};p(!0),K.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyChucJCCyDp-gPlxRVay3ScQAcVW8qxuak",e).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("token",e.data.idToken),localStorage.setItem("expirationDate",t),localStorage.setItem("userId",e.data.localId),localStorage.setItem("email",e.data.email),R.setState({token:e.data.idToken,userId:e.data.localId,email:e.data.email}),p(!1),_(!1),g(!0)})).catch((function(e){var t=e.response.data.error.message;"INVALID_EMAIL"===t?y("Invalid email."):"INVALID_PASSWORD"!==t&&"EMAIL_NOT_FOUND"!==t||y("Incorrect email or password."),p(!1),_(!0)}))},T=Object(a.jsx)(s.a.Fragment,{children:Object(a.jsx)(xe,{button:"Log in",clickHandler:w,email:{value:n,set:r},password:{value:d,set:j}})});return x&&(T=Object(a.jsx)(oe,{})),h&&(T=Object(a.jsxs)("p",{children:["Hello ",R.state.email]})),S&&(T=Object(a.jsxs)(s.a.Fragment,{children:[Object(a.jsx)(xe,{button:"Log in",clickHandler:w,email:{value:n,set:r},password:{value:d,set:j}}),Object(a.jsx)("p",{style:{color:"red"},children:N})]})),Object(a.jsx)("div",{children:T})},_e=function(e){var t=Object(c.useContext)(re);return Object(a.jsxs)("main",{children:[Object(a.jsxs)("header",{children:[Object(a.jsx)("h1",{children:"SNIPER RANGE TEST"}),Object(a.jsx)("p",{className:ve.a.homeText,children:"Estimate the range of a targets with your reticle only."})]}),Object(a.jsx)(Se,{}),t.state.token?Object(a.jsx)(m,{click:e.logout,children:"logout"}):Object(a.jsx)(m,{to:"/signup",children:"Sign up"}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:ve.a.Menu,children:t.state.token?Object(a.jsx)(O,{to:"/rangetest",children:"Start Test"}):Object(a.jsx)(O,{to:"/rangetest",children:"Demo"})})]})},ke=function(){var e=Object(c.useState)({token:localStorage.getItem("token"),userId:localStorage.getItem("userId"),email:localStorage.getItem("email")}),t=Object(l.a)(e,2),n=t[0],s=t[1],r=function(){localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),localStorage.removeItem("email"),s({token:null,userId:null,email:null})},i=new Date(localStorage.getItem("expirationDate"));n.token&&i<=new Date&&r();var o=Object(a.jsx)(_e,{logout:r}),b=Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{path:"/rangetest",exact:!0,component:he}),Object(a.jsx)(j.b,{path:"/signup",exact:!0,component:pe}),Object(a.jsx)(j.b,{path:"/",exact:!0,render:function(){return o}}),Object(a.jsx)(j.a,{to:"/"})]});return Object(a.jsx)(u.a,{children:Object(a.jsx)(re.Provider,{value:{state:n,setState:s},children:Object(a.jsx)("div",{className:d.a.App,children:b})})})},Ie=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),s(e),r(e)}))};i.a.render(Object(a.jsx)(ke,{}),document.getElementById("root")),Ie()},9:function(e,t,n){e.exports={Scope:"Scope_Scope__1NABJ",ScopeVision:"Scope_ScopeVision__t4t-v",sides:"Scope_sides__2IMZ2",reticleInput:"Scope_reticleInput__3YWiK",mobileAdj:"Scope_mobileAdj__Z-Ax5",singleInput:"Scope_singleInput__bXWI6"}}},[[79,1,2]]]);
//# sourceMappingURL=main.f48e28a5.chunk.js.map